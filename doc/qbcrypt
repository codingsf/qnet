>>>>>>> qnet/src/bcrypt/

Сборка:
=======
make qbcrypt

Дополнительно требуется:
=======

Прокси на порту 3128 (на машине, где установлен декодер)

https://github.com/msg555/tcpmux - для мультиплексирования (make tcpmux)


Параметры запуска:
=======
./qbcrypt [port] [connectip] [connectport] [controlport] [coder/decoder] [keydir] [keytail]

port - слушающий порт

connectip - ip-адрес следующего элемента схемы

connectport - tcp-порт следующего элемента схемы

controlport - tcp-порт слушающий подключения для управления

coder/decoder - режим работы (1-кодер, 0-декодер)

keydir - директория с ключами

keytail - общий элемент имени ключа



Схема запуска:
=======

Клиент (веб-браузер, прокси настроен на 127.0.0.1:8888)


tcpmux (слушает подключения на порту 8888, мультиплексирует, перенаправляет на 127.0.0.1:7777)

./tcpmux 8888 127.0.0.1:7777


Кодер (слушает подключения на порту 7777, кодирует и декодирует обратный, перенаправляет на 127.0.0.1:2222, канал управления на порту 78)

./qbcrypt 7777 127.0.0.1 2222 78 1 /opt/qcrypt/share/qbcrypt _Bob.key


Декодер (слушает подключения на порту 2222, декодирует и кодирует обратный, перенаправляет на 127.0.0.1:3333, канал управления на порту 77)

./qbcrypt 2222 127.0.0.1 3333 77 0 /opt/qcrypt/share/qbcrypt _Bob.key


tcpdemux (слушает подключения на порту 3333, демультиплексирует, перенаправляет на 127.0.0.1:3128)

./tcpmux —demux 3333 127.0.0.1:3128


Прокси (squid на порту 3128)


Управление:
=======
Подключение на порт управления:

nc 127.0.0.1 77


Команды: 

r - перечитывание ключей

q - завершение работы

